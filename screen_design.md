# 画面詳細設計書

## 1. 顧客向け画面（Telegram Mini Apps）

### 1.1 QRスキャン・セッション開始画面

#### 1.1.1 初回来店画面

**画面ID**: CS-001  
**画面名**: QRスキャン画面

**レイアウト**:
```
┌─────────────────────────────────┐
│                                 │
│     モバイルオーダーシステム      │
│                                 │
│  ┌───────────────────────┐    │
│  │                       │    │
│  │    [QRコード画像]      │    │
│  │                       │    │
│  └───────────────────────┘    │
│                                 │
│  テーブルのQRコードをスキャンして │
│  ご注文を開始してください         │
│                                 │
│  ┌─────────────────────┐      │
│  │  QRコードをスキャン   │      │
│  └─────────────────────┘      │
│                                 │
└─────────────────────────────────┘
```

**UI要素**:
- ヘッダー: アプリ名表示
- QRコードアイコン: 視覚的ガイド
- 説明文: 利用方法の案内
- スキャンボタン: カメラ起動

**遷移先**:
- QRスキャン成功 → 来店人数入力画面（CS-002）
- 既存セッションあり → セッション復帰確認画面（CS-003）

---

#### 1.1.2 来店人数入力画面

**画面ID**: CS-002  
**画面名**: 来店人数入力画面

**レイアウト**:
```
┌─────────────────────────────────┐
│  ← テーブル: A-1                │
├─────────────────────────────────┤
│                                 │
│  ご来店人数を入力してください     │
│                                 │
│  ┌─────────────────────┐      │
│  │  [ - ]  4人  [ + ]  │      │
│  └─────────────────────┘      │
│                                 │
│  ※最大99人まで入力可能           │
│                                 │
│  ┌─────────────────────┐      │
│  │     注文を開始する     │      │
│  └─────────────────────┘      │
│                                 │
└─────────────────────────────────┘
```

**UI要素**:
- ヘッダー: 戻るボタン、テーブル番号表示
- 人数選択: - / + ボタンで増減（1-99）
- 注意事項: 入力範囲の説明
- 確定ボタン: セッション作成

**バリデーション**:
- 人数: 1〜99人
- 未入力時はボタン無効化

**遷移先**:
- 注文を開始する → メニュー一覧画面（CS-004）

---

#### 1.1.3 セッション復帰確認画面

**画面ID**: CS-003  
**画面名**: セッション復帰確認画面

**レイアウト**:
```
┌─────────────────────────────────┐
│  セッション復帰                  │
├─────────────────────────────────┤
│                                 │
│  前回のセッションが見つかりました │
│                                 │
│  ┌───────────────────────┐    │
│  │ テーブル: A-1          │    │
│  │ 来店人数: 4人          │    │
│  │ 開始時刻: 12:30       │    │
│  └───────────────────────┘    │
│                                 │
│  このセッションに戻りますか？     │
│                                 │
│  ┌─────────────────────┐      │
│  │       はい          │      │
│  └─────────────────────┘      │
│                                 │
│  ┌─────────────────────┐      │
│  │ いいえ（新規セッション）│      │
│  └─────────────────────┘      │
│                                 │
└─────────────────────────────────┘
```

**UI要素**:
- セッション情報カード: テーブル、人数、時刻
- 確認ボタン: はい（復帰）/ いいえ（新規）

**遷移先**:
- はい → メニュー一覧画面（CS-004）
- いいえ → QRスキャン画面（CS-001）

---

### 1.2 メニュー閲覧画面

#### 1.2.1 メニュー一覧画面

**画面ID**: CS-004  
**画面名**: メニュー一覧画面

**レイアウト**:
```
┌─────────────────────────────────┐
│  テーブル A-1  👥4  🛒 (2)  ☰   │
├─────────────────────────────────┤
│ [全て][前菜][メイン][飲み物]...  │
├─────────────────────────────────┤
│ ┌─────────┬─────────────────┐ │
│ │ [画像]  │ シーザーサラダ   │ │
│ │ 400x300 │ 新鮮なロメイン... │ │
│ │         │ ¥850            │ │
│ └─────────┴─────────────────┘ │
│ ┌─────────┬─────────────────┐ │
│ │ [画像]  │ トマトパスタ     │ │
│ │ 400x300 │ 完熟トマトの...  │ │
│ │         │ ¥1,200  売切    │ │
│ └─────────┴─────────────────┘ │
│ ┌─────────┬─────────────────┐ │
│ │ [画像]  │ ビール           │ │
│ │ 400x300 │ キンキンに冷え... │ │
│ │         │ ¥600            │ │
│ └─────────┴─────────────────┘ │
│                                 │
│  ┌────────────────────┐        │
│  │ 🛎️ 店員を呼ぶ       │        │
│  └────────────────────┘        │
└─────────────────────────────────┘
```

**UI要素**:
- ヘッダー:
  - テーブル番号表示
  - 来店人数アイコン
  - カートアイコン（バッジ: 商品数）
  - メニューボタン（注文履歴、会計）
- カテゴリタブ: 横スクロール、選択状態表示
- 商品カード:
  - サムネイル画像（lazy loading）
  - 商品名
  - 説明（1行、省略）
  - 価格（税込）
  - 売切バッジ（グレーアウト）
- 店員呼び出しボタン: フローティングボタン
- 無限スクロール対応

**状態管理**:
- 選択カテゴリ
- カート内商品数
- スクロール位置

**遷移先**:
- 商品カードタップ → 商品詳細モーダル（CS-005）
- カートアイコン → カート画面（CS-006）
- メニュー > 注文履歴 → 注文履歴画面（CS-008）
- メニュー > 会計 → 会計画面（CS-009）
- 店員を呼ぶ → 店員呼び出しモーダル（CS-010）

---

#### 1.2.2 商品詳細モーダル

**画面ID**: CS-005  
**画面名**: 商品詳細モーダル

**レイアウト**:
```
┌─────────────────────────────────┐
│                              ✕  │
│  ┌───────────────────────┐    │
│  │                       │    │
│  │    [商品画像]          │    │
│  │    800x600            │    │
│  │                       │    │
│  └───────────────────────┘    │
│                                 │
│  シーザーサラダ                  │
│  ¥850                          │
│                                 │
│  新鮮なロメインレタスとクリーミー  │
│  なシーザードレッシング、パルメザ  │
│  ンチーズをトッピング             │
│                                 │
│  数量                            │
│  ┌─────────────────────┐      │
│  │  [ - ]  1  [ + ]   │      │
│  └─────────────────────┘      │
│  最大10個まで                    │
│                                 │
│  ┌─────────────────────┐      │
│  │  カートに追加 (¥850) │      │
│  └─────────────────────┘      │
│                                 │
└─────────────────────────────────┘
```

**UI要素**:
- 閉じるボタン（✕）
- 商品画像: 大サイズ（800x600px）
- 商品名
- 価格（税込）
- 商品説明: 全文表示
- 数量選択: - / + ボタン（1〜max_quantity）
- 最大数量表示
- カート追加ボタン: 合計金額表示

**バリデーション**:
- 数量: 1〜max_quantity_per_order
- 売り切れ商品はボタン無効化

**遷移先**:
- カートに追加 → メニュー一覧画面（CS-004）、トースト通知表示

---

### 1.3 注文関連画面

#### 1.3.1 カート画面

**画面ID**: CS-006  
**画面名**: カート画面

**レイアウト**:
```
┌─────────────────────────────────┐
│  ← カート                        │
├─────────────────────────────────┤
│  ┌───────────────────────┐    │
│  │ シーザーサラダ  ¥850   │    │
│  │ 数量: [ - ] 2 [ + ]   │    │
│  │ 小計: ¥1,700      🗑️  │    │
│  │                       │    │
│  │ 備考:                 │    │
│  │ [ドレッシング少なめ]   │    │
│  └───────────────────────┘    │
│                                 │
│  ┌───────────────────────┐    │
│  │ トマトパスタ    ¥1,200 │    │
│  │ 数量: [ - ] 1 [ + ]   │    │
│  │ 小計: ¥1,200      🗑️  │    │
│  │                       │    │
│  │ 備考:                 │    │
│  │ [________________]     │    │
│  └───────────────────────┘    │
│                                 │
│  ┌─────────────────────┐      │
│  │ 合計: ¥2,900         │      │
│  └─────────────────────┘      │
│                                 │
│  ┌─────────────────────┐      │
│  │     注文を確定する    │      │
│  └─────────────────────┘      │
│                                 │
└─────────────────────────────────┘
```

**UI要素**:
- ヘッダー: 戻るボタン
- 商品カード（複数）:
  - 商品名、単価
  - 数量変更ボタン
  - 小計表示
  - 削除ボタン
  - 備考入力欄（任意）
- 合計金額表示
- 注文確定ボタン

**バリデーション**:
- カートが空の場合、確定ボタン無効化
- 備考: 100文字以内

**遷移先**:
- 戻る → メニュー一覧画面（CS-004）
- 注文を確定する → 注文確認モーダル（CS-007）

---

#### 1.3.2 注文確認モーダル

**画面ID**: CS-007  
**画面名**: 注文確認モーダル

**レイアウト**:
```
┌─────────────────────────────────┐
│  注文内容の確認                  │
├─────────────────────────────────┤
│                                 │
│  シーザーサラダ x2  ¥1,700      │
│  トマトパスタ x1    ¥1,200      │
│                                 │
│  ────────────────────          │
│  合計            ¥2,900        │
│                                 │
│  この内容で注文しますか？         │
│                                 │
│  ┌─────────────────────┐      │
│  │      はい           │      │
│  └─────────────────────┘      │
│                                 │
│  ┌─────────────────────┐      │
│  │   キャンセル         │      │
│  └─────────────────────┘      │
│                                 │
└─────────────────────────────────┘
```

**UI要素**:
- 注文明細リスト
- 合計金額
- 確認メッセージ
- 確定ボタン / キャンセルボタン

**遷移先**:
- はい → 注文完了画面（CS-008）
- キャンセル → カート画面（CS-006）

---

#### 1.3.3 注文完了画面

**画面ID**: CS-008  
**画面名**: 注文完了画面

**レイアウト**:
```
┌─────────────────────────────────┐
│                                 │
│         ✓                       │
│                                 │
│    ご注文ありがとうございます    │
│                                 │
│  注文番号: #1                   │
│  注文時刻: 12:35                │
│                                 │
│  ─────────────────────         │
│                                 │
│  シーザーサラダ x2  ¥1,700      │
│  トマトパスタ x1    ¥1,200      │
│                                 │
│  合計            ¥2,900        │
│                                 │
│  ─────────────────────         │
│                                 │
│  調理が完了するまでしばらくお待ち  │
│  ください。                      │
│                                 │
│  ┌─────────────────────┐      │
│  │  メニューに戻る       │      │
│  └─────────────────────┘      │
│                                 │
│  ┌─────────────────────┐      │
│  │  注文履歴を見る       │      │
│  └─────────────────────┘      │
│                                 │
└─────────────────────────────────┘
```

**UI要件**:
- 成功アイコン（アニメーション）
- 注文番号、時刻表示
- 注文明細、合計金額
- 案内メッセージ
- ボタン: メニューに戻る / 注文履歴

**遷移先**:
- メニューに戻る → メニュー一覧画面（CS-004）
- 注文履歴を見る → 注文履歴画面（CS-009）

---

### 1.4 注文履歴画面

**画面ID**: CS-009  
**画面名**: 注文履歴画面

**レイアウト**:
```
┌─────────────────────────────────┐
│  ← 注文履歴                      │
├─────────────────────────────────┤
│  テーブル: A-1                  │
│  来店人数: 4人                   │
│  開始時刻: 12:30                │
│                                 │
│  ┌───────────────────────┐    │
│  │ 注文 #1      提供済み   │    │
│  │ 10分前                  │    │
│  │ ────────────────       │    │
│  │ シーザーサラダ x2       │    │
│  │ トマトパスタ x1         │    │
│  │ ────────────────       │    │
│  │ 合計: ¥2,900           │    │
│  └───────────────────────┘    │
│                                 │
│  ┌───────────────────────┐    │
│  │ 注文 #2      調理中     │    │
│  │ 5分前                   │    │
│  │ ────────────────       │    │
│  │ ビール x2               │    │
│  │ 枝豆 x1                 │    │
│  │ ────────────────       │    │
│  │ 合計: ¥1,500           │    │
│  └───────────────────────┘    │
│                                 │
│  ┌─────────────────────┐      │
│  │ 総合計: ¥4,400        │      │
│  └─────────────────────┘      │
│                                 │
└─────────────────────────────────┘
```

**UI要素**:
- ヘッダー: 戻るボタン
- セッション情報: テーブル、人数、開始時刻
- 注文カード（複数、時系列降順）:
  - 注文番号
  - ステータスバッジ（色分け）
  - 経過時間（相対表示）
  - 商品リスト
  - 小計
- 総合計金額表示

**ステータスバッジ**:
- 注文受付済み: オレンジ
- 調理中: 青
- 調理完了: 緑
- 提供済み: グレー

**遷移先**:
- 戻る → メニュー一覧画面（CS-004）

---

### 1.5 会計画面

#### 1.5.1 会計依頼画面

**画面ID**: CS-010  
**画面名**: 会計依頼画面

**レイアウト**:
```
┌─────────────────────────────────┐
│  ← 会計                          │
├─────────────────────────────────┤
│                                 │
│  ご注文内容                      │
│                                 │
│  ┌───────────────────────┐    │
│  │ 注文 #1                │    │
│  │ シーザーサラダ x2       │    │
│  │ トマトパスタ x1         │    │
│  │           ¥2,900      │    │
│  └───────────────────────┘    │
│                                 │
│  ┌───────────────────────┐    │
│  │ 注文 #2                │    │
│  │ ビール x2               │    │
│  │ 枝豆 x1                 │    │
│  │           ¥1,500      │    │
│  └───────────────────────┘    │
│                                 │
│  ┌─────────────────────┐      │
│  │ 合計金額                │      │
│  │ ¥4,400                │      │
│  └─────────────────────┘      │
│                                 │
│  レジにてお支払いください         │
│                                 │
│  ┌─────────────────────┐      │
│  │   会計を依頼する       │      │
│  └─────────────────────┘      │
│                                 │
└─────────────────────────────────┘
```

**UI要素**:
- ヘッダー: 戻るボタン
- 注文明細カード（複数）
- 合計金額（大きく強調）
- 案内メッセージ
- 会計依頼ボタン

**遷移先**:
- 会計を依頼する → 会計依頼完了画面（CS-011）

---

#### 1.5.2 会計依頼完了画面

**画面ID**: CS-011  
**画面名**: 会計依頼完了画面

**レイアウト**:
```
┌─────────────────────────────────┐
│                                 │
│         💳                      │
│                                 │
│    会計を依頼しました            │
│                                 │
│  ┌───────────────────────┐    │
│  │  [QRコード]            │    │
│  │  レシート番号:          │    │
│  │  #TBL1-20241128-001   │    │
│  └───────────────────────┘    │
│                                 │
│  合計金額: ¥4,400              │
│                                 │
│  このQRコードをレジでご提示      │
│  ください                        │
│                                 │
│  ┌─────────────────────┐      │
│  │  会計をキャンセル      │      │
│  │ （追加注文したい場合）  │      │
│  └─────────────────────┘      │
│                                 │
│  ご利用ありがとうございました    │
│                                 │
└─────────────────────────────────┘
```

**UI要素**:
- 完了アイコン
- QRコード表示（セッションコード）
- レシート番号
- 合計金額
- 案内メッセージ
- キャンセルボタン

**遷移先**:
- 会計をキャンセル → 確認ダイアログ → メニュー一覧画面（CS-004）

---

### 1.6 店員呼び出しモーダル

**画面ID**: CS-012  
**画面名**: 店員呼び出しモーダル

**レイアウト**:
```
┌─────────────────────────────────┐
│  店員を呼ぶ                   ✕  │
├─────────────────────────────────┤
│                                 │
│  呼び出しの理由を選択してください │
│                                 │
│  ┌─────────────────────┐      │
│  │ 💧 お水が欲しい       │      │
│  └─────────────────────┘      │
│                                 │
│  ┌─────────────────────┐      │
│  │ 💳 会計したい         │      │
│  └─────────────────────┘      │
│                                 │
│  ┌─────────────────────┐      │
│  │ ❓ 質問がある         │      │
│  └─────────────────────┘      │
│                                 │
│  ┌─────────────────────┐      │
│  │ ⚠️ 苦情・問題         │      │
│  └─────────────────────┘      │
│                                 │
│  ┌─────────────────────┐      │
│  │ 📝 その他             │      │
│  └─────────────────────┘      │
│                                 │
└─────────────────────────────────┘
```

**理由選択後の画面**:
```
┌─────────────────────────────────┐
│  店員を呼ぶ                   ✕  │
├─────────────────────────────────┤
│                                 │
│  理由: お水が欲しい              │
│                                 │
│  追加メッセージ（任意）          │
│  ┌─────────────────────┐      │
│  │ 冷たいお水を4つ      │      │
│  │ お願いします         │      │
│  │                     │      │
│  └─────────────────────┘      │
│                                 │
│  ┌─────────────────────┐      │
│  │    呼び出す          │      │
│  └─────────────────────┘      │
│                                 │
│  ┌─────────────────────┐      │
│  │   キャンセル         │      │
│  └─────────────────────┘      │
│                                 │
└─────────────────────────────────┘
```

**UI要素**:
- 閉じるボタン（✕）
- 理由選択リスト（アイコン付き）
- メッセージ入力欄（任意、100文字以内）
- 呼び出すボタン / キャンセルボタン

**遷移先**:
- 呼び出す → 呼び出し完了画面（CS-013）
- キャンセル → モーダル閉じる

---

#### 1.6.1 呼び出し完了画面

**画面ID**: CS-013  
**画面名**: 呼び出し完了画面

**レイアウト**:
```
┌─────────────────────────────────┐
│                                 │
│         🔔                      │
│                                 │
│    店員を呼び出しました          │
│                                 │
│  しばらくお待ちください          │
│                                 │
│  ┌─────────────────────┐      │
│  │      閉じる          │      │
│  └─────────────────────┘      │
│                                 │
└─────────────────────────────────┘
```

**UI要件**:
- 成功アイコン
- 確認メッセージ
- 自動的に3秒後にメニュー一覧に戻る

---

## 2. 店舗運用画面（Webブラウザ）

### 2.1 調理ダッシュボード

**画面ID**: SS-001  
**画面名**: 調理ダッシュボード

**レイアウト（PC）**:
```
┌─────────────────────────────────────────────────────┐
│ 調理ダッシュボード    自動更新: [ON] 🔔音声通知: [ON] │
├─────────────────────────────────────────────────────┤
│ [未調理 5] [調理中 3] [完了 2] [全て 10]  🔍検索     │
├─────────────────────────────────────────────────────┤
│ ┌───────────────────┐ ┌───────────────────┐      │
│ │ テーブル A-1      │ │ テーブル B-3      │      │
│ │ 注文 #1  10分前   │ │ 注文 #2  5分前    │      │
│ │ [未調理]          │ │ [調理中]          │      │
│ │ ─────────────    │ │ ─────────────    │      │
│ │ シーザーサラダ x2 │ │ ビール x2  [完了] │      │
│ │ [調理開始]        │ │ 枝豆 x1    [完了] │      │
│ │                   │ │                   │      │
│ │ トマトパスタ x1   │ │ [提供する]        │      │
│ │ 備考: 少なめ      │ │                   │      │
│ │ [調理開始]        │ │                   │      │
│ └───────────────────┘ └───────────────────┘      │
│                                                     │
│ ┌───────────────────┐ ┌───────────────────┐      │
│ │ テーブル C-5      │ │ ...               │      │
│ │ 注文 #1  20分前⚠️ │ │                   │      │
│ │ [調理中]          │ │                   │      │
│ └───────────────────┘ └───────────────────┘      │
└─────────────────────────────────────────────────────┘
```

**UI要素**:
- ヘッダー:
  - タイトル
  - 自動更新トグル
  - 音声通知トグル
- フィルタータブ: 件数バッジ付き
- 検索バー: テーブル番号、注文番号で検索
- 注文カード（グリッド表示）:
  - テーブル番号
  - 注文番号
  - 経過時間（背景色で警告）
  - ステータスバッジ
  - 商品リスト
  - 各商品のステータスボタン
  - 備考表示（あれば）
- 経過時間警告:
  - 10分未満: 白背景
  - 10-20分: 黄色背景
  - 20分以上: 赤背景 + ⚠️アイコン

**機能**:
- リアルタイム更新（WebSocketまたは10秒ポーリング）
- ステータス変更（ボタンクリック）
- ドラッグ&ドロップでステータス変更
- 新規注文時の音声通知
- フィルター、検索

**遷移先**:
- 注文カードクリック → 注文詳細モーダル（SS-002）

---

#### 2.1.1 注文詳細モーダル

**画面ID**: SS-002  
**画面名**: 注文詳細モーダル

**レイアウト**:
```
┌─────────────────────────────────────────┐
│ 注文詳細                             ✕  │
├─────────────────────────────────────────┤
│ テーブル: A-1                           │
│ 注文番号: #1                            │
│ 注文者: @username                       │
│ 注文時刻: 2024-11-28 12:35             │
│ 経過時間: 10分                          │
│                                         │
│ ┌─────────────────────────────────┐   │
│ │ シーザーサラダ x2      ¥1,700   │   │
│ │ 備考: ドレッシング少なめ         │   │
│ │ ステータス: [未調理▼]           │   │
│ └─────────────────────────────────┘   │
│                                         │
│ ┌─────────────────────────────────┐   │
│ │ トマトパスタ x1        ¥1,200   │   │
│ │ ステータス: [未調理▼]           │   │
│ └─────────────────────────────────┘   │
│                                         │
│ 合計: ¥2,900                           │
│                                         │
│ ┌───────────┐ ┌───────────┐         │
│ │ 注文キャンセル │ │   閉じる   │         │
│ └───────────┘ └───────────┘         │
└─────────────────────────────────────────┘
```

**UI要素**:
- 注文情報: テーブル、番号、注文者、時刻、経過時間
- 商品リスト:
  - 商品名、数量、価格
  - 備考
  - ステータスドロップダウン
- 合計金額
- アクションボタン:
  - 注文キャンセル（確認ダイアログ）
  - 閉じる

---

### 2.2 会計管理画面

**画面ID**: SS-003  
**画面名**: 会計依頼一覧

**レイアウト**:
```
┌─────────────────────────────────────────────────────┐
│ 会計管理                        🔍検索  [日付選択]   │
├─────────────────────────────────────────────────────┤
│ [会計待ち 3] [完了 15]                              │
├─────────────────────────────────────────────────────┤
│ ┌───────────────────────────────────────────────┐ │
│ │ テーブル: A-1        セッション: TBL1-001      │ │
│ │ 依頼時刻: 13:15      経過: 5分                │ │
│ │ ───────────────────────────────────────      │ │
│ │ 注文 #1    ¥2,900                            │ │
│ │ 注文 #2    ¥1,500                            │ │
│ │ ───────────────────────────────────────      │ │
│ │ 合計金額: ¥4,400                             │ │
│ │                                               │ │
│ │ [レシート印刷] [会計処理]                     │ │
│ └───────────────────────────────────────────────┘ │
│                                                     │
│ ┌───────────────────────────────────────────────┐ │
│ │ テーブル: B-3        セッション: TBL3-002      │ │
│ │ ...                                           │ │
│ └───────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────┘
```

**UI要素**:
- ヘッダー: 検索、日付フィルター
- タブ: 会計待ち / 完了
- 会計カード:
  - テーブル番号、セッションコード
  - 依頼時刻、経過時間
  - 注文明細
  - 合計金額
  - アクションボタン

**遷移先**:
- 会計処理 → 会計処理モーダル（SS-004）

---

#### 2.2.1 会計処理モーダル

**画面ID**: SS-004  
**画面名**: 会計処理モーダル

**レイアウト**:
```
┌─────────────────────────────────────────┐
│ 会計処理                             ✕  │
├─────────────────────────────────────────┤
│ テーブル: A-1                           │
│ 合計金額: ¥4,400                       │
│                                         │
│ 支払い方法を選択してください             │
│                                         │
│ ○ 現金                                 │
│ ○ クレジットカード                      │
│ ○ 電子マネー                           │
│                                         │
│ ┌───────────┐ ┌───────────┐         │
│ │  決済完了   │ │ キャンセル  │         │
│ └───────────┘ └───────────┘         │
└─────────────────────────────────────────┘
```

**UI要素**:
- テーブル番号、合計金額表示
- 支払い方法ラジオボタン
- 決済完了ボタン / キャンセルボタン

**処理**:
- 決済完了 → Payment.status='paid', Session.status='completed'
- 完了通知表示

---

### 2.3 メニュー管理画面（Django Admin拡張）

**画面ID**: SS-005  
**画面名**: メニュー一覧

**レイアウト（Django Admin標準 + カスタマイズ）**:
```
┌─────────────────────────────────────────────────────┐
│ メニュー項目 / 変更                                  │
├─────────────────────────────────────────────────────┤
│ [メニュー項目を追加] [一括売り切れ設定]              │
│                                                     │
│ フィルター:                                         │
│ - カテゴリ                                          │
│ - 提供可能                                          │
│ - 有効                                              │
│                                                     │
│ 検索: [___________________]                         │
│                                                     │
│ ┌─┬────────┬──────┬───────┬────┬────┐        │
│ │□│サムネイル│商品名 │カテゴリ│価格│提供│        │
│ ├─┼────────┼──────┼───────┼────┼────┤        │
│ │□│[画像]   │サラダ │前菜    │850 │✓  │        │
│ │□│[画像]   │パスタ │メイン  │1200│✓  │        │
│ │□│[画像]   │ビール │飲物    │600 │✗  │        │
│ └─┴────────┴──────┴───────┴────┴────┘        │
│                                                     │
│ [保存] [保存して編集を続ける]                        │
└─────────────────────────────────────────────────────┘
```

**カスタマイズ要素**:
- サムネイル画像プレビュー
- 一括売り切れ設定アクション
- インライン編集
- カテゴリごとのグループ表示

---

#### 2.3.1 メニュー編集画面

**画面ID**: SS-006  
**画面名**: メニュー項目編集

**レイアウト**:
```
┌─────────────────────────────────────────────────────┐
│ メニュー項目の変更: シーザーサラダ                    │
├─────────────────────────────────────────────────────┤
│ 基本情報                                            │
│ ───────────────────────────────────────            │
│ 商品名*:  [シーザーサラダ__________________]        │
│ カテゴリ: [前菜▼]                                  │
│ 価格*:    [850.00]                                 │
│                                                     │
│ 説明:                                               │
│ ┌─────────────────────────────────────┐           │
│ │新鮮なロメインレタスとクリーミーな      │           │
│ │シーザードレッシング...                │           │
│ └─────────────────────────────────────┘           │
│                                                     │
│ 画像                                                │
│ ───────────────────────────────────────            │
│ 現在の画像:                                         │
│ ┌─────────┐                                       │
│ │ [画像]  │                                       │
│ └─────────┘                                       │
│                                                     │
│ 新しい画像をアップロード:                            │
│ ┌─────────────────────────────────────┐           │
│ │ ファイルをドラッグ&ドロップ           │           │
│ │ または [ファイルを選択]                │           │
│ └─────────────────────────────────────┘           │
│ 対応形式: JPEG, PNG, WebP (最大2MB)                │
│                                                     │
│ 設定                                                │
│ ───────────────────────────────────────            │
│ 1注文あたりの最大数量: [10]                         │
│ 表示順序: [0]                                       │
│ ☑ 提供可能                                         │
│ ☑ 有効                                             │
│                                                     │
│ [保存] [保存して編集を続ける] [保存して別の項目を追加]│
└─────────────────────────────────────────────────────┘
```

**UI要素**:
- 基本情報入力フォーム
- 画像プレビュー
- ドラッグ&ドロップアップロード
- 設定項目（チェックボックス）
- 保存ボタン（複数オプション）

**画像アップロード処理**:
1. ファイル選択またはD&D
2. クライアント側バリデーション（サイズ、形式）
3. アップロード
4. サーバー側処理:
   - オリジナル保存
   - サムネイル生成（400x300px）
   - 大サイズ生成（800x600px）
   - EXIF削除
5. プレビュー更新

---

### 2.4 売上レポート画面

**画面ID**: SS-007  
**画面名**: 売上レポート

**レイアウト**:
```
┌─────────────────────────────────────────────────────┐
│ 売上レポート                                         │
├─────────────────────────────────────────────────────┤
│ 期間: [2024-11-01] 〜 [2024-11-28]  [表示]         │
│                                                     │
│ サマリー                                            │
│ ┌───────────┬───────────┬───────────┬───────────┐ │
│ │ 総売上    │ 注文数    │ 平均単価  │ 来店客数  │ │
│ │¥1,250,000 │ 324件    │ ¥3,858   │ 856人    │ │
│ └───────────┴───────────┴───────────┴───────────┘ │
│                                                     │
│ 日次売上推移                                        │
│ ┌─────────────────────────────────────────────┐   │
│ │              [グラフ]                        │   │
│ │                                               │   │
│ └─────────────────────────────────────────────┘   │
│                                                     │
│ 人気商品TOP10                                       │
│ ┌───┬──────────┬────┬──────┐                   │
│ │順位│商品名      │数量│売上  │                   │
│ ├───┼──────────┼────┼──────┤                   │
│ │ 1 │ビール      │156 │93,600│                   │
│ │ 2 │サラダ      │124 │105,400│                  │
│ └───┴──────────┴────┴──────┘                   │
│                                                     │
│ [CSVダウンロード] [PDFダウンロード]                 │
└─────────────────────────────────────────────────────┘
```

**UI要素**:
- 期間選択（日付ピッカー）
- サマリーカード（4指標）
- 日次売上グラフ（折れ線グラフ）
- 人気商品ランキングテーブル
- エクスポートボタン

---

## 3. 画面遷移図

### 3.1 顧客向け画面遷移

```
[QRスキャン画面]
     │
     ├─(新規)→ [来店人数入力]
     │              │
     │              ↓
     └─(既存)→ [セッション復帰確認]
                    │
                    ↓
              [メニュー一覧] ←─────┐
                    │              │
                    ├→ [商品詳細]  │
                    │      │       │
                    │      ↓       │
                    ├→ [カート]    │
                    │      │       │
                    │      ↓       │
                    │  [注文確認]  │
                    │      │       │
                    │      ↓       │
                    │  [注文完了] ─┘
                    │
                    ├→ [注文履歴]
                    │
                    ├→ [会計依頼]
                    │      │
                    │      ↓
                    │  [会計完了]
                    │
                    └→ [店員呼び出し]
                           │
                           ↓
                       [呼び出し完了]
```

### 3.2 店舗運用画面遷移

```
[ログイン]
    │
    ↓
[ダッシュボード選択]
    │
    ├→ [調理ダッシュボード]
    │      │
    │      └→ [注文詳細]
    │
    ├→ [会計管理]
    │      │
    │      └→ [会計処理]
    │
    ├→ [メニュー管理]
    │      │
    │      ├→ [メニュー編集]
    │      └→ [画像アップロード]
    │
    └→ [売上レポート]
```

---

## 4. レスポンシブデザイン

### 4.1 顧客向け（Telegram Mini Apps）
- モバイルファースト設計
- 画面幅: 320px〜480px
- タッチ操作最適化
- ボタン最小サイズ: 44x44px

### 4.2 店舗運用（Webブラウザ）
- PC優先設計
- ブレークポイント:
  - タブレット: 768px
  - PC: 1024px
- 調理ダッシュボードはタブレット対応必須

---

## 5. デザインシステム

### 5.1 カラーパレット

**プライマリ**:
- Primary: `#2196F3` (青)
- Primary Dark: `#1976D2`
- Primary Light: `#BBDEFB`

**セカンダリ**:
- Secondary: `#FF9800` (オレンジ)
- Secondary Dark: `#F57C00`
- Secondary Light: `#FFE0B2`

**ステータスカラー**:
- Success: `#4CAF50` (緑)
- Warning: `#FFC107` (黄)
- Error: `#F44336` (赤)
- Info: `#2196F3` (青)
- Disabled: `#9E9E9E` (グレー)

**背景**:
- Background: `#FAFAFA`
- Surface: `#FFFFFF`
- Border: `#E0E0E0`

### 5.2 タイポグラフィ

**フォントファミリー**:
```css
font-family: -apple-system, BlinkMacSystemFont, 
  'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, 
  'Noto Sans JP', sans-serif;
```

**フォントサイズ**:
- H1: 28px / Bold
- H2: 24px / Bold
- H3: 20px / Medium
- Body: 16px / Regular
- Caption: 14px / Regular
- Small: 12px / Regular

### 5.3 スペーシング

**基本単位**: 8px
- XS: 4px
- S: 8px
- M: 16px
- L: 24px
- XL: 32px
- XXL: 48px

---

## 6. アクセシビリティ

### 6.1 対応要件
- WCAG 2.1 Level AA準拠
- コントラスト比: 4.5:1以上
- タッチターゲット: 最小44x44px
- フォーカスインジケーター表示
- スクリーンリーダー対応（ARIA属性）

### 6.2 多言語対応（Phase 2）
- 日本語（デフォルト）
- 英語
- 中国語（簡体字）

---

この画面詳細設計書に基づいて、UI/UX実装を進めることができます。
